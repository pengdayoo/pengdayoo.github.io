<!DOCTYPE html>
<html>
<head>
    <title>鹏大的大鹏.CentOS8安装Docker</title>
    <meta type="keyword" content='鹏大的大鹏,Blog'>
    <meta type="description" content='鹏大的大鹏.在CentOS8系统上安装Docker环境步骤'>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="baidu-site-verification" content="code-E2HlntMuEe" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="bookmark" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href='https://pengda.me/assets/css/tagCloud.css'/>
    <script src='https://pengda.me/assets/js/tagCloud.js'></script>
    <link rel="stylesheet" href='https://pengda.me/assets/css/main.css'/>
    <link rel="canonical" href="https://pengda.me/posts/CentOS8InstallDocker/">
    <noscript><link rel="stylesheet" href='https://pengda.me/assets/css/noscript.css'/></noscript>
    <style>
        :root{--site-background : url("https://pengda.me/images/bg.jpg")};
    </style>
    
    
</head>


<body class="is-preload">

    
        <div id="wrapper">
    <header id="header">
        <div class="logo">
            <a href="/">
                <span class="icon">
                    
                        <img src="/images/pengdaRotateW.svg">
                    
                </span>
            </a>
        </div>
        <div class="content">
            <div class="inner">
                <h1>CentOS8安装Docker</h1>
                
                <p>
                    在CentOS8系统上安装Docker环境步骤
                </p>
                
            </div>
        </div>

        
    <nav>
        <ul>
            
                <li><a href="/posts/"> Posts </a></li>
            
                <li><a href="/categories/"> Categories </a></li>
            
                <li><a href="/series/"> Series </a></li>
            
                <li><a href="/tags/"> Tags </a></li>
            
                <li><a href="/#about"> About </a></li>
            
            
            
        </ul>
    </nav>
    </header>

    <div class="content">
        <h2 id="在centos8系统上安装docker环境步骤">在CentOS8系统上安装Docker环境步骤</h2>
<h3 id="系统环境">系统环境：</h3>
<pre tabindex="0"><code>虚拟机：Parallels Desktop 16 for Mac  .Version 16.1.2(49151)
操作系统：CentOS Linux release 8.4.2105
Docker：20.10.7, build f0df350
</code></pre><p><img src="/images/CentOS8-neofetch.png" alt="CentOS8-neofetch"></p>
<h3 id="安装过程">安装过程</h3>
<h4 id="error先发个错误podman已经安装导致的报错执行以下命令删除podman后继续执行后续安装步骤即可如果你不知道podman是什么建议直接先执行以下解决方案给出的命令">error.先发个错误：podman已经安装导致的报错，执行以下命令删除podman后继续执行后续安装步骤即可，如果你不知道podman是什么，建议直接先执行以下解决方案给出的命令</h4>
<h5 id="解决方案"><em><strong>解决方案：</strong></em></h5>
<pre tabindex="0"><code>yum -y erase podman buildah
</code></pre><h5 id="错误参考只要看到-installed-package-podman-基本就是这个问题"><em><strong>错误参考：(只要看到 installed package podman&hellip; 基本就是这个问题)</strong></em></h5>
<pre tabindex="0"><code>Error: 
 Problem 1: problem with installed package podman-3.0.1-7.module_el8.4.0+830+8027e1c4.x86_64
  - package podman-3.0.1-7.module_el8.4.0+830+8027e1c4.x86_64 requires runc &gt;= 1.0.0-57, but none of the providers can be installed
  - package podman-3.0.1-6.module_el8.4.0+781+acf4c33b.x86_64 requires runc &gt;= 1.0.0-57, but none of the providers can be installed
  - package containerd.io-1.4.6-3.1.el8.x86_64 conflicts with runc provided by runc-1.0.0-73.rc93.module_el8.4.0+830+8027e1c4.x86_64
  - package containerd.io-1.4.6-3.1.el8.x86_64 obsoletes runc provided by runc-1.0.0-73.rc93.module_el8.4.0+830+8027e1c4.x86_64
  - package containerd.io-1.4.6-3.1.el8.x86_64 conflicts with runc provided by runc-1.0.0-70.rc92.module_el8.4.0+673+eabfc99d.x86_64
  - package containerd.io-1.4.6-3.1.el8.x86_64 obsoletes runc provided by runc-1.0.0-70.rc92.module_el8.4.0+673+eabfc99d.x86_64
  - cannot install the best candidate for the job
  - package runc-1.0.0-64.rc10.module_el8.4.0+522+66908d0c.x86_64 is filtered out by modular filtering
  - package runc-1.0.0-65.rc10.module_el8.4.0+819+4afbd1d6.x86_64 is filtered out by modular filtering
  - package runc-1.0.0-70.rc92.module_el8.4.0+786+4668b267.x86_64 is filtered out by modular filtering
  - package runc-1.0.0-71.rc92.module_el8.4.0+833+9763146c.x86_64 is filtered out by modular filtering
 Problem 2: package podman-3.0.1-6.module_el8.4.0+781+acf4c33b.x86_64 requires runc &gt;= 1.0.0-57, but none of the providers can be installed
  - package containerd.io-1.4.3-3.1.el8.x86_64 conflicts with runc provided by runc-1.0.0-70.rc92.module_el8.4.0+673+eabfc99d.x86_64
  - package containerd.io-1.4.3-3.1.el8.x86_64 obsoletes runc provided by runc-1.0.0-70.rc92.module_el8.4.0+673+eabfc99d.x86_64
  - package containerd.io-1.4.3-3.1.el8.x86_64 conflicts with runc provided by runc-1.0.0-73.rc93.module_el8.4.0+830+8027e1c4.x86_64
  - package containerd.io-1.4.3-3.1.el8.x86_64 obsoletes runc provided by runc-1.0.0-73.rc93.module_el8.4.0+830+8027e1c4.x86_64
  - package docker-ce-3:20.10.7-3.el8.x86_64 requires containerd.io &gt;= 1.4.1, but none of the providers can be installed
  - package containerd.io-1.4.3-3.2.el8.x86_64 conflicts with runc provided by runc-1.0.0-70.rc92.module_el8.4.0+673+eabfc99d.x86_64
  - package containerd.io-1.4.3-3.2.el8.x86_64 obsoletes runc provided by runc-1.0.0-70.rc92.module_el8.4.0+673+eabfc99d.x86_64
  - package containerd.io-1.4.3-3.2.el8.x86_64 conflicts with runc provided by runc-1.0.0-73.rc93.module_el8.4.0+830+8027e1c4.x86_64
  - package containerd.io-1.4.3-3.2.el8.x86_64 obsoletes runc provided by runc-1.0.0-73.rc93.module_el8.4.0+830+8027e1c4.x86_64
  - package podman-catatonit-3.0.1-6.module_el8.4.0+781+acf4c33b.x86_64 requires podman = 3.0.1-6.module_el8.4.0+781+acf4c33b, but none of the providers can be installed
  - problem with installed package podman-catatonit-3.0.1-7.module_el8.4.0+830+8027e1c4.x86_64
  - package podman-catatonit-3.0.1-7.module_el8.4.0+830+8027e1c4.x86_64 requires podman = 3.0.1-7.module_el8.4.0+830+8027e1c4, but none of the providers can be installed
  - package podman-3.0.1-7.module_el8.4.0+830+8027e1c4.x86_64 requires runc &gt;= 1.0.0-57, but none of the providers can be installed
  - package containerd.io-1.4.4-3.1.el8.x86_64 conflicts with runc provided by runc-1.0.0-73.rc93.module_el8.4.0+830+8027e1c4.x86_64
  - package containerd.io-1.4.4-3.1.el8.x86_64 obsoletes runc provided by runc-1.0.0-73.rc93.module_el8.4.0+830+8027e1c4.x86_64
  - package containerd.io-1.4.6-3.1.el8.x86_64 conflicts with runc provided by runc-1.0.0-73.rc93.module_el8.4.0+830+8027e1c4.x86_64
  - package containerd.io-1.4.6-3.1.el8.x86_64 obsoletes runc provided by runc-1.0.0-73.rc93.module_el8.4.0+830+8027e1c4.x86_64
  - cannot install the best candidate for the job
  - package runc-1.0.0-64.rc10.module_el8.4.0+522+66908d0c.x86_64 is filtered out by modular filtering
  - package runc-1.0.0-65.rc10.module_el8.4.0+819+4afbd1d6.x86_64 is filtered out by modular filtering
  - package runc-1.0.0-70.rc92.module_el8.4.0+786+4668b267.x86_64 is filtered out by modular filtering
  - package runc-1.0.0-71.rc92.module_el8.4.0+833+9763146c.x86_64 is filtered out by modular filtering
  - package containerd.io-1.4.4-3.1.el8.x86_64 conflicts with runc provided by runc-1.0.0-70.rc92.module_el8.4.0+673+eabfc99d.x86_64
  - package containerd.io-1.4.4-3.1.el8.x86_64 obsoletes runc provided by runc-1.0.0-70.rc92.module_el8.4.0+673+eabfc99d.x86_64
  - package containerd.io-1.4.6-3.1.el8.x86_64 conflicts with runc provided by runc-1.0.0-70.rc92.module_el8.4.0+673+eabfc99d.x86_64
  - package containerd.io-1.4.6-3.1.el8.x86_64 obsoletes runc provided by runc-1.0.0-70.rc92.module_el8.4.0+673+eabfc99d.x86_64
(try to add &#39;--allowerasing&#39; to command line to replace conflicting packages or &#39;--skip-broken&#39; to skip uninstallable packages or &#39;--nobest&#39; to use not only best candidate packages)
</code></pre><h4 id="1安装yum-utils">1.安装yum-utils</h4>
<pre tabindex="0"><code>sudo yum install -y yum-utils
</code></pre><h4 id="2添加仓库">2.添加仓库</h4>
<pre tabindex="0"><code>sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
</code></pre><h4 id="3安装-docker-ce-docker-ce-cli">3.安装 docker-ce docker-ce-cli</h4>
<pre tabindex="0"><code>sudo yum -y  install docker-ce  docker-ce-cli containerd.io
</code></pre><h4 id="4启动-docker-服务">4.启动 docker 服务</h4>
<pre tabindex="0"><code>systemctl start docker
</code></pre><h4 id="5查看-docker-相关信息">5.查看 docker 相关信息</h4>
<pre tabindex="0"><code>① 查看 docker 版本号：
  docker -v
② 查看 docker 详细信息：
  docker version
</code></pre><h4 id="6设置-docker-服务为开机启动">6.设置 docker 服务为开机启动</h4>
<pre tabindex="0"><code>systemctl enable --now docker
</code></pre><h3 id="docker命令参考">Docker命令参考</h3>
<pre tabindex="0"><code>1. 查看本地已有镜像列表：
  docker images
2. 搜索镜像
  docker search openresty
3. 拉取镜像：
  docker pull openresty/openresty 
4. 删除镜像：
  docker rmi openresty/openresty

5. 查看已有容器列表：
  docker ps
6. 运行容器：
  docker run -d -p 10080:80 --name openresty openresty/openresty
  -d：加了这个参数不会进入容器，想要进入容器需要使用指令 docker exec
7. 停止容器：
  docker stop openresty
8. 重启容器：
  docker restart openresty
9. 进入容器：
  docker exec it openresty /bin/bash
  exit退出容器后不会导致容器停止运行。（推荐该命令连接）
  docker attach openresty
  exit退出容器后会使容器停止运行。
10. 容器和本地之间交换文件：
  docker cp fromPath(被拷贝文件) toPath(要放置被拷贝文件的地方)
  容器外部拷贝文件到容器内部操作
    docker cp ~/Program/hugo/blog/public openresty:openresty:/usr/local/openresty/nginx/html/blog
  容器内部部拷贝文件到容器外部操作
    docker cp openresty:openresty:/usr/local/openresty/nginx/html/blog ~/Program/hugo/blog/public
11. 删除容器：
  docker rm -f openresty
12. 清理所有处于终止状态的容器：
  docker container prune
</code></pre><h3 id="系统提供的命令">系统提供的命令</h3>
<pre tabindex="0"><code>  attach      Attach local standard input, output, and error streams to a running container
  build       Build an image from a Dockerfile
  commit      Create a new image from a container&#39;s changes
  cp          Copy files/folders between a container and the local filesystem
  create      Create a new container
  diff        Inspect changes to files or directories on a container&#39;s filesystem
  events      Get real time events from the server
  exec        Run a command in a running container
  export      Export a container&#39;s filesystem as a tar archive
  history     Show the history of an image
  images      List images
  import      Import the contents from a tarball to create a filesystem image
  info        Display system-wide information
  inspect     Return low-level information on Docker objects
  kill        Kill one or more running containers
  load        Load an image from a tar archive or STDIN
  login       Log in to a Docker registry
  logout      Log out from a Docker registry
  logs        Fetch the logs of a container
  pause       Pause all processes within one or more containers
  port        List port mappings or a specific mapping for the container
  ps          List containers
  pull        Pull an image or a repository from a registry
  push        Push an image or a repository to a registry
  rename      Rename a container
  restart     Restart one or more containers
  rm          Remove one or more containers
  rmi         Remove one or more images
  run         Run a command in a new container
  save        Save one or more images to a tar archive (streamed to STDOUT by default)
  search      Search the Docker Hub for images
  start       Start one or more stopped containers
  stats       Display a live stream of container(s) resource usage statistics
  stop        Stop one or more running containers
  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE
  top         Display the running processes of a container
  unpause     Unpause all processes within one or more containers
  update      Update configuration of one or more containers
  version     Show the Docker version information
  wait        Block until one or more containers stop, then print their exit codes
</code></pre>
    </div>

            
<footer id="footer">
    <p class="copyright">&copy; 2022 PengDa . <a href="/index.xml"> RSS </a></li></p>
</footer>

        </div>

    
    <div id="bg"></div>

</body>


    
    <script src=https://pengda.me/assets/js/jquery.min.js></script>
    <script src=https://pengda.me/assets/js/browser.min.js></script>
    <script src=https://pengda.me/assets/js/breakpoints.min.js></script>
    <script src=https://pengda.me/assets/js/util.js></script>
    <script src=https://pengda.me/assets/js/main.js></script>

</html>
